<a href="?conversation_id={{ conv.id }}"
   class="block p-4 border-b border-gray-700 hover:bg-gray-700 transition
          {% if selected_conversation and selected_conversation.id == conv.id %}bg-gray-700{% endif %}">
    <div class="flex items-center space-x-4">
        <!-- Avatar -->
        <img src="https://placehold.co/48x48/{{ conv.id|add:200 }}def/ffffff?text={{ other_participant.username|slice:'0:1' }}"
             alt="{{ other_participant.username }}"
             class="w-12 h-12 rounded-full border-2 border-blue-400">

        <!-- Name & Last message -->
        <div class="flex-1 min-w-0">
            <h4 class="text-white font-semibold truncate">{{ other_participant.username }}</h4>
            <p class="text-gray-400 text-sm truncate">
                {% if conv.messages.last %}
                    {{ conv.messages.last.body|truncatechars:30 }}
                {% else %}
                    No messages yet
                {% endif %}
            </p>
        </div>

        <!-- Last message time -->
        <div class="text-xs text-gray-500">
            {% if conv.messages.last %}
                {{ conv.messages.last.sent_at|date:"H:i" }}
            {% endif %}
        </div>
    </div>
</a>
